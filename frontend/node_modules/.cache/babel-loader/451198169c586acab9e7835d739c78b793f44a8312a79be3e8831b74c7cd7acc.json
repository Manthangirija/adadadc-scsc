{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import axios from'axios';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){const[formData,setFormData]=useState({email:'',password:'',rememberMe:false});// Load email and password from local storage if Remember Me is checked\nuseEffect(()=>{const rememberedEmail=localStorage.getItem('rememberedEmail');const rememberedPassword=localStorage.getItem('rememberedPassword');const rememberMe=localStorage.getItem('rememberMe')==='true';if(rememberedEmail&&rememberedPassword&&rememberMe){setFormData({...formData,email:rememberedEmail,password:rememberedPassword,rememberMe:true});}},[]);// Run only once on component mount\nconst handleChange=e=>{const value=e.target.type==='checkbox'?e.target.checked:e.target.value;setFormData({...formData,[e.target.name]:value});};const handleSubmit=async e=>{e.preventDefault();try{const response=await axios.post('http://localhost:5000/login',formData);if(response.status===200&&response.data.token){localStorage.setItem('token',response.data.token);toast.success('Login successful!');// Remember email and password if Remember Me is checked\nif(formData.rememberMe){localStorage.setItem('rememberedEmail',formData.email);localStorage.setItem('rememberedPassword',formData.password);localStorage.setItem('rememberMe',true);}else{// Clear remembered email and password if Remember Me is unchecked\nlocalStorage.removeItem('rememberedEmail');localStorage.removeItem('rememberedPassword');localStorage.removeItem('rememberMe');}window.location.href='/home';}else{console.error('Login failed:',response);toast.error('Login failed. Please try again.');}}catch(error){console.error('Login failed:',error);if(error.response&&error.response.status===401){toast.error('Invalid username or password. Please try again.');}else{toast.error('Login failed. Please try again.');}}};return/*#__PURE__*/_jsxs(\"div\",{className:\"Signup_main\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login_container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome To Pocket Saving\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"signup_form\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input_form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",placeholder:\"Enter Your Email\",value:formData.email,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input_form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",placeholder:\"Enter Your Password\",value:formData.password,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input_form2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"check\",name:\"rememberMe\",checked:formData.rememberMe,onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"check\",children:\"Remember Me\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"input_form\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"login_content\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"I don't have an account \",/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"Signup\"})]})})]})]}),/*#__PURE__*/_jsx(ToastContainer,{})]});}export default Login;","map":{"version":3,"names":["React","useState","useEffect","Link","axios","ToastContainer","toast","jsx","_jsx","jsxs","_jsxs","Login","formData","setFormData","email","password","rememberMe","rememberedEmail","localStorage","getItem","rememberedPassword","handleChange","e","value","target","type","checked","name","handleSubmit","preventDefault","response","post","status","data","token","setItem","success","removeItem","window","location","href","console","error","className","children","onSubmit","htmlFor","id","placeholder","onChange","to"],"sources":["C:/Users/dell/Desktop/saving-project-main/frontend/src/Components/Login.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nfunction Login() {\n  const [formData, setFormData] = useState({\n    email: '',\n    password: '',\n    rememberMe: false\n  });\n\n  // Load email and password from local storage if Remember Me is checked\n  useEffect(() => {\n    const rememberedEmail = localStorage.getItem('rememberedEmail');\n    const rememberedPassword = localStorage.getItem('rememberedPassword');\n    const rememberMe = localStorage.getItem('rememberMe') === 'true';\n\n    if (rememberedEmail && rememberedPassword && rememberMe) {\n      setFormData({\n        ...formData,\n        email: rememberedEmail,\n        password: rememberedPassword,\n        rememberMe: true\n      });\n    }\n  }, []); // Run only once on component mount\n\n  const handleChange = (e) => {\n    const value = e.target.type === 'checkbox' ? e.target.checked : e.target.value;\n    setFormData({ ...formData, [e.target.name]: value });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await axios.post('http://localhost:5000/login', formData);\n  \n      if (response.status === 200 && response.data.token) {\n        localStorage.setItem('token', response.data.token);\n        toast.success('Login successful!');\n\n        // Remember email and password if Remember Me is checked\n        if (formData.rememberMe) {\n          localStorage.setItem('rememberedEmail', formData.email);\n          localStorage.setItem('rememberedPassword', formData.password);\n          localStorage.setItem('rememberMe', true);\n        } else {\n          // Clear remembered email and password if Remember Me is unchecked\n          localStorage.removeItem('rememberedEmail');\n          localStorage.removeItem('rememberedPassword');\n          localStorage.removeItem('rememberMe');\n        }\n\n        window.location.href = '/home';\n      } else {\n        console.error('Login failed:', response);\n        toast.error('Login failed. Please try again.');\n      }\n    } catch (error) {\n      console.error('Login failed:', error);\n      if (error.response && error.response.status === 401) {\n        toast.error('Invalid username or password. Please try again.');\n      } else {\n        toast.error('Login failed. Please try again.');\n      }\n    }\n  };\n  \n  return (\n    <div className=\"Signup_main\">\n      <div className=\"login_container\">\n        <h1>Welcome To Pocket Saving</h1>\n        <div className=\"signup_form\">\n          <form onSubmit={handleSubmit}>\n            <div className=\"input_form\">\n              <label htmlFor=\"email\">Email</label>\n              <input type=\"email\" id=\"email\" name=\"email\" placeholder=\"Enter Your Email\" value={formData.email} onChange={handleChange} />\n            </div>\n            <div className=\"input_form\">\n              <label htmlFor=\"password\">Password</label>\n              <input type=\"password\" id=\"password\" name=\"password\" placeholder=\"Enter Your Password\" value={formData.password} onChange={handleChange} />\n            </div>\n            <div className=\"input_form2\">\n              <input type='checkbox' id='check' name='rememberMe' checked={formData.rememberMe} onChange={handleChange} />\n              <label htmlFor=\"check\">Remember Me</label>\n            </div>\n            <div className=\"input_form\">\n              <button type=\"submit\">Submit</button>\n            </div>\n          </form>\n          <div className=\"login_content\">\n            <p>I don't have an account <Link to=\"/signup\">Signup</Link></p>\n          </div>\n        </div>\n      </div>\n      <ToastContainer />\n    </div>\n  )\n}\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}